<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/financiamento.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="img/invest-logo.png" type="image/x-icon">
    <title>Simulador de Financiamento</title>
</head>
<body>
    <header>
        <div id="container">
            <div class="container-side">
                <div id="menu">
                    <span class="material-symbols-outlined">
                        menu
                    </span>
                </div>
                <div class="itens-nav">
                    <a href="index.html" class="a-sidebar">
                        <span class="material-symbols-outlined">
                            home
                        </span>
                        <p class="p-sidebar">Início</p>
                    </a>  
                </div>
                <div class="itens-nav">
                    <a href="financiamento.html" class="a-sidebar">
                        <span class="material-symbols-outlined">
                            assignment
                        </span>
                        <p class="p-sidebar">Simular gastos</p>
                    </a>
                </div>
                <div class="itens-nav">
                    <a href="educ.html" class="a-sidebar">
                        <span class="material-symbols-outlined">
                            school
                        </span>
                        <p class="p-sidebar">Educação financeira</p>
                    </a>
                </div>
                <div class="itens-nav">
                    <a href="orcamento.html" class="a-sidebar">
                        <span class="material-symbols-outlined">
                            savings
                        </span>
                        <p class="p-sidebar">Gerenciar gastos</p>
                    </a>
                </div>
            </div>
            <div class="box-img">
                <a href="index.html" class="a-logo">
                    <img id="logo-nav" src="img/invest-logo.png" alt="">
                    <p id="invest-p-nav">INVEST</p>
                </a> 
            </div>
        </div>
    </header>
    
    <!-- JUROS SIMPLES -->
    <div id="main-content">
        <div class="bc-financia">
            <h1>Simulador de Financiamento (Juros Simples)</h1>
            <form id="formulario-simples">
                <div class="form-financ">
                    <label for="tpfinanciamento">Tipo de Financiamento:</label>
                    <select id="tpfinanciamento">
                        <option value="imobiliario">Imobiliário</option>
                        <option value="veicular">Veicular</option>
                        <option value="pessoal">Pessoal</option>
                    </select required>
                </div>
                <div class="form-financ">
                    <label for="capital">Capital (R$):</label>
                    <input type="text" id="capital" required>
                </div>
                <div class="form-financ">
                    <label for="tempo">Tempo (Meses):</label>
                    <input type="range" id="tempo" min="1" max="360" value="60" oninput="acompanharPrazo(this.value);">
                    <p id="mudar-prazo">60 meses</p>
                </div>
                <div class="form-financ">
                    <label for="taxa">Taxa de Juros (% ao ano):</label>
                    <input type="text" id="taxa-inserida" required>
                </div>
                <button type="submit">Calcular</button>
            </form>
        </div>
        <div class="rstd">
            <div id="cab-rstd">
                <img src="img/logo-branca-png.png" id="imgInvest">
            </div>
            <h2>Resultados da Simulação (Juros Simples)</h2>
            <p id="tp-financ">Tipo de Financiamento:</p>
            <p id="montante">Montante:</p>
            <p id="juros-total">Total de Juros Pagos:</p>
            <p id="valor-parcelas">Valor das Parcelas: </p>
        </div>
    </div>

    <!-- JUROS COMPOSTOS -->
    <div id="main-content2">
        <div class="bc-financia">
            <h1>Simulador de Financiamento (Juros Compostos)</h1>
            <form id="formulario-composto">
                <div class="form-financ">
                    <label for="tpfinanciamento-composto">Tipo de Financiamento:</label>
                    <select id="tpfinanciamento-composto">
                        <option value="imobiliario">Imobiliário</option>
                        <option value="veicular">Veicular</option>
                        <option value="pessoal">Pessoal</option>
                    </select required>
                </div>
                <div class="form-financ">
                    <label for="capital-composto">Capital (R$):</label>
                    <input type="text" id="capital-composto" required>
                </div>
                <div class="form-financ">
                    <label for="tempo-composto">Tempo (Meses):</label>
                    <input type="range" id="tempo-composto" min="1" max="360" value="60" oninput="acompanharPrazoComposto(this.value);">
                    <p id="mudar-prazo-composto">60 meses</p>
                </div>
                <div class="form-financ">
                    <label for="taxa-composto">Taxa de Juros (% ao ano):</label>
                    <input type="text" id="taxa-inserida-composto" required>
                </div>
                <button type="submit">Calcular</button>
            </form>
        </div>
        <div class="rstd">
            <div id="cab-rstd">
                <img src="img/logo-branca-png.png" id="imgInvest">
            </div>
            <h2>Resultados da Simulação (Juros Compostos)</h2>
            <p id="tp-financ-composto">Tipo de Financiamento:</p>
            <p id="montante-composto">Montante:</p>
            <p id="juros-total-composto">Total de Juros Pagos:</p>
            <p id="valor-parcelas-composto">Valor das Parcelas: </p>
        </div>
    </div>

    <script>
        let dadosJurosSimples = [];
        let dadosJurosCompostos = [];

        function acompanharPrazo(value) {
            let texto = value == 1 ? ' mês' : ' meses';
            document.getElementById('mudar-prazo').textContent = value + texto;
        }

        function acompanharPrazoComposto(value) {
            let texto = value == 1 ? ' mês' : ' meses';
            document.getElementById('mudar-prazo-composto').textContent = value + texto;
        }

        function calcularFinanciamento(event) {
            event.preventDefault();
            let capital = parseInt(document.getElementById('capital').value);
            let taxaInserida = parseInt(document.getElementById('taxa-inserida').value);
            let tempo = parseInt(document.getElementById('tempo').value);
            let taxa = (taxaInserida / 12) / 100;
            let sjuros = capital * taxa * tempo;
            let montante = capital + sjuros;
            let tipoFinanciamento = document.getElementById('tpfinanciamento').value;
            let vparcela = montante / tempo;

            document.getElementById('tp-financ').textContent = `Tipo de Financiamento: ${tipoFinanciamento.charAt(0).toUpperCase() + tipoFinanciamento.slice(1)}`;
            document.getElementById('montante').textContent = `Montante: R$ ${montante.toFixed(2)}`;
            document.getElementById('juros-total').textContent = `Total de Juros Pagos: R$ ${sjuros.toFixed(2)}`;
            document.getElementById('valor-parcelas').textContent = `Valor das Parcelas: R$ ${vparcela.toFixed(2)}`;

            dadosJurosSimples.push(montante);

        }

        function calcularFinanciamento2(event) {
            event.preventDefault();
            let capital = parseInt(document.getElementById('capital-composto').value);
            let taxaInserida = parseInt(document.getElementById('taxa-inserida-composto').value);
            let tempo = parseInt(document.getElementById('tempo-composto').value);
            let taxa = (taxaInserida / 12) / 100;
            let montante = capital * Math.pow((1 + taxa), tempo);
            let cjuros = montante - capital;
            let tipoFinanciamento = document.getElementById('tpfinanciamento-composto').value;
            let vparcela = montante / tempo;

            document.getElementById('tp-financ-composto').textContent = `Tipo de Financiamento: ${tipoFinanciamento.charAt(0).toUpperCase() + tipoFinanciamento.slice(1)}`;
            document.getElementById('montante-composto').textContent = `Montante: R$ ${montante.toFixed(2)}`;
            document.getElementById('juros-total-composto').textContent = `Total de Juros Pagos: R$ ${cjuros.toFixed(2)}`;
            document.getElementById('valor-parcelas-composto').textContent = `Valor das Parcelas: R$ ${vparcela.toFixed(2)}`;

            dadosJurosCompostos.push(montante);

        }

        const resultCalculoSimples = document.getElementById('formulario-simples');
        resultCalculoSimples.addEventListener('submit', calcularFinanciamento);

        const resultCalculoComposto = document.getElementById('formulario-composto');
        resultCalculoComposto.addEventListener('submit', calcularFinanciamento2);
    </script>
</body>
</html>